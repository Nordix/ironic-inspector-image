# Licensed under the Apache License, Version 2.0 (the "License"); you may
# not use this file except in compliance with the License. You may obtain
# a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
# License for the specific language governing permissions and limitations
# under the License.


Listen 5050
<VirtualHost *:5050>
    ProxyPass "/"  "http://127.0.0.1:5049/"
    ProxyPassReverse "/"  "http://127.0.0.1:5049/"

    SetEnv APACHE_RUN_USER ironic
    SetEnv APACHE_RUN_GROUP ironic

    # ErrorLog /dev/stdout
    ErrorLog /tmp/apache.err
    LogLevel debug
    # CustomLog /dev/stdout combined
    CustomLog /tmp/apache.access combined

    ServerName 127.0.0.1

# {% if "CERT_FILE" in env and "KEY_FILE" in env %}
#     ServerName {{ env["DOMAIN_NAME"]}}
#     SSLEngine on
#     SSLCertificateFile {{ env["CERT_FILE"] }}
#     SSLCertificateKeyFile {{ env["KEY_FILE"] }}

# {% if "CLIENT_AUTH_CACERT_FILE" in env %}
#     SSLCACertificateFile {{ env["CLIENT_AUTH_CACERT_FILE"] }}
#     SSLVerifyClient require
#     SSLVerifyDepth 1
# {% endif %}
# {% endif %}
</VirtualHost>
